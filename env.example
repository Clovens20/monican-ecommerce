# ============================================================================
# MONICAN E-COMMERCE - Variables d'environnement
# ============================================================================
# Copiez ce fichier vers .env.local et remplissez les valeurs
# Ne commitez JAMAIS le fichier .env.local dans Git

# ============================================================================
# SUPABASE CONFIGURATION
# ============================================================================
# URL de votre projet Supabase
NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co

# Clé anonyme (publique) - Sécurisée pour le client
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key-here

# Clé service role (PRIVÉE) - Ne jamais exposer côté client
# Utilisée uniquement côté serveur pour les opérations admin
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key-here

# URL de connexion directe à PostgreSQL (optionnel, pour scripts)
DATABASE_URL=postgresql://postgres:[password]@db.[project-ref].supabase.co:5432/postgres

# ============================================================================
# AUTHENTIFICATION
# ============================================================================
# Secret pour signer les JWT (générer avec: openssl rand -base64 32)
JWT_SECRET=your-jwt-secret-here-minimum-32-characters

# Durée de session en secondes (défaut: 7 jours)
SESSION_MAX_AGE=604800

# ============================================================================
# PAYMENT - STRIPE
# ============================================================================
# Clé secrète Stripe (côté serveur uniquement)
# Obtenez votre clé depuis: https://dashboard.stripe.com/apikeys
STRIPE_SECRET_KEY=sk_test_your-stripe-secret-key

# Clé publique Stripe (côté client)
# Obtenez votre clé depuis: https://dashboard.stripe.com/apikeys
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_test_your-stripe-publishable-key

# Webhook Secret (pour vérifier les webhooks Stripe)
# Configurez les webhooks dans Stripe Dashboard et copiez le secret
# URL webhook: https://votre-domaine.com/api/webhooks/stripe
STRIPE_WEBHOOK_SECRET=whsec_your-webhook-secret

# ============================================================================
# EMAIL SERVICE
# ============================================================================
# Service d'email à utiliser: resend, sendgrid, ou supabase
EMAIL_SERVICE=resend

# Resend API Key (si EMAIL_SERVICE=resend)
RESEND_API_KEY=re_your-resend-api-key

# SendGrid API Key (si EMAIL_SERVICE=sendgrid)
SENDGRID_API_KEY=SG.your-sendgrid-api-key

# Email de l'expéditeur (doit être vérifié dans votre service d'email)
EMAIL_FROM=noreply@monican.com
EMAIL_FROM_NAME=Monican E-commerce

# Email de support
EMAIL_SUPPORT=support@monican.com

# ============================================================================
# APPLICATION CONFIGURATION
# ============================================================================
# URL de base de l'application (pour les liens dans les emails)
NEXT_PUBLIC_APP_URL=http://localhost:3000

# Environment: development, staging, production
NODE_ENV=development

# ============================================================================
# SECURITY
# ============================================================================
# Rate limiting - Requêtes par minute par IP
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW=60000

# CORS - Origines autorisées (séparées par des virgules)
CORS_ORIGINS=http://localhost:3000,https://monican.com

# ============================================================================
# ABANDONED CART - Rappel automatique des paniers abandonnés
# ============================================================================
# URL du site (pour les liens dans les emails de rappel)
NEXT_PUBLIC_SITE_URL=https://monican.shop

# Clé secrète pour sécuriser l'endpoint cron (optionnel mais recommandé)
# Générer une clé aléatoire : openssl rand -hex 32
ABANDONED_CART_CRON_SECRET=your-secret-key-here

# ============================================================================
# SHIPPING - USPS & FEDEX
# ============================================================================
# Adresse d'origine pour le calcul des frais de livraison
# Cette adresse doit être l'adresse de votre entrepôt/point d'expédition
SHIPPING_ORIGIN_STREET=123 Main St
SHIPPING_ORIGIN_CITY=New York
SHIPPING_ORIGIN_STATE=NY
SHIPPING_ORIGIN_ZIP=10001
SHIPPING_ORIGIN_COUNTRY=US

# USPS API Credentials (pour livraisons locales/nationales)
# Obtenez votre User ID sur: https://www.usps.com/business/web-tools-apis/
# 1. Créez un compte USPS Business
# 2. Allez dans "Web Tools" > "Rate Calculator API"
# 3. Enregistrez votre User ID
USPS_USER_ID=your-usps-user-id

# USPS Environment: 'production' ou 'test'
# Utilisez 'test' pour le développement, 'production' pour la production
USPS_ENVIRONMENT=production

# FedEx API Credentials (pour livraisons internationales)
# Obtenez vos credentials sur: https://developer.fedex.com/
# 1. Créez un compte FedEx Developer
# 2. Créez une application pour obtenir API Key et Secret
# 3. Utilisez votre numéro de compte FedEx
FEDEX_API_KEY=your-fedex-api-key
FEDEX_API_SECRET=your-fedex-api-secret
FEDEX_ACCOUNT_NUMBER=your-fedex-account-number

# FedEx Environment: 'production' uniquement (sandbox non utilisé)
FEDEX_ENVIRONMENT=production

# FedEx API URLs (Production uniquement)
# Ces URLs sont optionnelles - les valeurs par défaut seront utilisées si non définies
FEDEX_OAUTH_URL=https://apis.fedex.com/oauth/token
FEDEX_RATE_URL=https://apis.fedex.com/rate/v1/rates/quotes

# ============================================================================
# SHIPPING (Optionnel - pour intégration future)
# ============================================================================
# EasyPost API Key (si vous utilisez EasyPost pour le shipping)
EASYPOST_API_KEY=your-easypost-api-key

# ShipStation API Key (si vous utilisez ShipStation)
SHIPSTATION_API_KEY=your-shipstation-api-key
SHIPSTATION_API_SECRET=your-shipstation-api-secret

# ============================================================================
# MONITORING & LOGGING (Optionnel)
# ============================================================================
# Sentry DSN (pour le monitoring d'erreurs)
NEXT_PUBLIC_SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id

# LogRocket (alternative à Sentry)
NEXT_PUBLIC_LOGROCKET_APP_ID=your-logrocket-app-id

# ============================================================================
# ANALYTICS (Optionnel)
# ============================================================================
# Google Analytics
NEXT_PUBLIC_GA_ID=G-XXXXXXXXXX

# ============================================================================
# NOTES IMPORTANTES
# ============================================================================
# 1. Ne commitez JAMAIS ce fichier avec des valeurs réelles
# 2. Utilisez des secrets différents pour development/staging/production
# 3. Régénérez les secrets régulièrement
# 4. Vérifiez que toutes les variables sont définies avant le déploiement
# 5. Pour Stripe: utilisez les clés de test (sk_test_...) en développement
#    et les clés de production (sk_live_...) en production

